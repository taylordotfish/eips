<!-- This file is automatically generated from .misc/README.m4. -->
Eips
====

Eips is the *efficient intention-preserving sequence*: a sequence
<abbr title="conflict-free replicated data type">CRDT</abbr> with
**worst-case non-amortized logarithmic-time** operations, minimal memory usage,
and no concurrent interleaving issues or duplications from concurrent moves as
seen in some other CRDTs.

Features
--------

* No interleaving of characters when multiple users insert text at the same
  position, even when text is typed in reverse (by typing a letter, moving the
  cursor back one, typing the next letter, etc.)
* Support for move operations. Items can be moved to another position in the
  sequence and will not be duplicated if multiple users try to move the same
  item concurrently.
* Constant identifier size. Changes always take the same number of bytes to
  communicate, even as the editing history grows.
* Insertions, deletions, moves, and accesses are non-amortized O(log *h*),
  where *h* is the total number of items ever inserted in the document (i.e.,
  visible items plus tombstones).
* The [CRDT structure][Eips] doesn’t store items directly, but rather
  translates between *[local changes][LocalChange]* (which use simple integer
  indices) and *[remote changes][RemoteChange]* (which use IDs and are suitable
  for sending over a network). This means the items themselves may be stored in
  any plain list-like type, such as a simple growable array ([`Vec`]) or an
  [unsorted counted B-tree][cb] like [btree-vec]. The time complexity of local
  operations on the sequence then depends only on the number of *visible*
  items—tombstones don’t cause a performance penalty.
* There is only one function that mutates the CRDT structure, [`apply_change`].
  Functions like [`insert`] and [`remove`] simply produce a
  [remote change][RemoteChange] object, which can be passed to [`apply_change`]
  \(and broadcast over the network).

[cb]: https://www.chiark.greenend.org.uk/~sgtatham/algorithms/cbtree.html

Requirements
------------

* As with many sequence CRDTs, Eips assumes changes are delivered in causal
  order.
* Clients must be capable of generating unique IDs. If each client already has
  a unique client ID, a common approach is to use (*client-id*, *counter*)
  pairs, where *counter* is a simple per-client increasing integer. UUIDs may
  be used in cases where this isn’t possible.

Serialization
-------------

When the crate feature `serde` is enabled, [`RemoteChange`][RemoteChange] (and
types it contains) will implement [Serde][serde]’s [`Serialize`] and
[`Deserialize`] traits.

[LocalChange]: https://docs.rs/eips/0.2/eips/changes/enum.LocalChange.html
[RemoteChange]: https://docs.rs/eips/0.2/eips/changes/struct.RemoteChange.html
[btree-vec]: https://github.com/taylordotfish/btree-vec
[`apply_change`]: https://docs.rs/eips/0.2/eips/struct.Eips.html#method.apply_change
[`insert`]: https://docs.rs/eips/0.2/eips/struct.Eips.html#method.insert
[`delete`]: https://docs.rs/eips/0.2/eips/struct.Eips.html#method.delete
[`Vec`]: https://doc.rust-lang.org/stable/std/vec/struct.Vec.html
[Eips]: https://docs.rs/eips/0.2/eips/struct.Eips.html
[serde]: https://docs.rs/serde/1/serde/
[`Serialize`]: https://docs.rs/serde/1/serde/trait.Serialize.html
[`Deserialize`]: https://docs.rs/serde/1/serde/trait.Deserialize.html

Documentation
-------------

[Documentation is available on docs.rs.](https://docs.rs/eips)

License
-------

Eips is licensed under version 3 of the GNU Affero General Public License, or
(at your option) any later version. See [LICENSE](LICENSE).

Contributing
------------

By contributing to Eips, you agree that your contribution may be used according
to the terms of Eips’s license.
